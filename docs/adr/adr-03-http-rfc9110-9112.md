<!--
doc_id: adr-03
title: ADR: RFC 9110/9112 に準拠した HTTP API の前提
version: 1.1.0
status: stable
source_template: docs/templates/adr-template.md
-->

# ADR: RFC 9110/9112 に準拠した HTTP API の前提

## 1. タイトル
- RFC 9110/9112 に準拠した HTTP API を前提とする。

## 2. ステータス
- 採用

## 3. 背景
1. `docs/analysis/analysis-01-roa.md` で、HTTP を利用した Web API を前提とし、RFC 9110 (HTTP Semantics) と RFC 9112 (HTTP/1.1) に従う制約が追加された。
2. RESTful 設計の学習では、HTTP メソッドやステータスコードの意味を標準に基づいて説明する必要がある。
3. 教材の再現性を高めるため、プロトコルの前提を明示したい。

## 4. 決定
1. HTTP セマンティクスは RFC 9110 に準拠する。
2. 通信プロトコルは HTTP/1.1 を前提とし、RFC 9112 に準拠する。
3. HTTP/2 以降の仕様 (RFC 9113/9114 など) は本スコープ外とする。

## 5. 根拠
1. **標準性:** HTTP の意味論を標準化された RFC に依拠することで説明が一貫する。
2. **学習価値:** メソッドの安全性・冪等性・キャッシュ制御の説明が RFC 9110 に沿って整理できる。
3. **実装整合:** Spring Boot WebMVC のデフォルト挙動が HTTP/1.1 と整合しやすい。
4. **代替案:**
   1) RFC を明示しない案は、教材間の説明差を生むため却下。
   2) HTTP/2/3 を前提とする案は、学習範囲が広くなるため却下。

## 6. 影響
- **ポジティブ:**
  1) 教材の説明が RFC と対応し、参照可能な一次情報を示せる。
  2) RESTful 設計の根拠を明確に提示できる。
- **ネガティブ:**
  1) HTTP/2/3 の特徴には触れないため、発展的な話題は別資料が必要になる。
  2) 仕様準拠の説明コストが増える。
- **モニタリング:**
  1) 演習で設計した API が RFC 9110 のメソッド特性に沿っているか確認する。
  2) ステータスコードの使い分けが RFC 9110 に準拠しているかレビューする。

## 7. 実施計画
1. 教材本文に RFC 9110/9112 の参照と前提を明記する。
2. OpenAPI 仕様のレスポンス設計が RFC 9110 に沿っているか確認する。
3. サンプル実装の HTTP 応答が RFC 9112 の前提と整合することをレビューする。
4. 実装計画は `docs/plan/plan-01-roa.md` に追記する。

## 8. ステータス更新履歴
1. YYYY-MM-DD: 採用。判断根拠: `docs/analysis/analysis-01-roa.md` のプロトコル制約に準拠するため。
